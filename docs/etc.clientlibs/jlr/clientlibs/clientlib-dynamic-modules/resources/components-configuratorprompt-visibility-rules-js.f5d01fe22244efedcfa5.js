"use strict";(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([["components-configuratorprompt-visibility-rules-js","components-dx-accordion-dx-accordion-js"],{98599:function(t,e,r){r.r(e),r.d(e,{VisibilityRules:function(){return v}});var n,o,i,a,c,u,l=r(58156),s=r.n(l),f=r(48822);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(){d=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(e,r,n,i){var a,c,u=Object.create((r&&r.prototype instanceof b?r:b).prototype);return o(u,"_invoke",{value:(a=new j(i||[]),c=h,function(r,o){if(c===y)throw Error("Generator is already running");if(c===v){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var u=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,m)}(i,a);if(u){if(u===m)continue;return u}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===h)throw c=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=y;var l=f(e,n,a);if("normal"===l.type){if(c=a.done?v:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(c=v,a.method="throw",a.arg=l.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",y="executing",v="completed",m={};function b(){}function g(){}function w(){}var _={};l(_,a,function(){return this});var x=Object.getPrototypeOf,L=x&&x(x(O([])));L&&L!==r&&n.call(L,a)&&(_=L);var S=w.prototype=b.prototype=Object.create(_);function A(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==p(s)&&n.call(s,"__await")?e.resolve(s.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return r("throw",t,a,c)})}c(u.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function O(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(p(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},A(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},A(S),l(S,u,"Generator"),l(S,a,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function h(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)})}}var v=(c=function t(e){var r=e.datastore,n=e.authoredNameplate,o=e.authoredBodystyle,i=e.authoredRuleEngineUrl;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),this.datastore=r,this.authoredNameplate=n,this.authoredBodystyle=o,this.authoredRuleEngineUrl=i,this.key=null},u=[{key:"isSatisfied",value:(n=y(d().mark(function t(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.datastore.isEmpty()){t.next=2;break}return t.abrupt("return",!1);case 2:if(!(this.isRestricted()&&this.isNotConfiguredNameplate())){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.isNotLatestModelYear();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"isNotSatisfied",value:(o=y(d().mark(function t(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.isSatisfied();case 2:return t.abrupt("return",!t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"isRestricted",value:function(){return!!this.authoredNameplate}},{key:"getNameplateFormat",value:function(){return this.authoredBodystyle?"".concat(this.authoredNameplate.toLocaleLowerCase(),"#").concat(this.authoredBodystyle.toLocaleLowerCase()):this.authoredNameplate.toLocaleLowerCase()}},{key:"isConfiguredNameplate",value:function(){var t=this.getNameplateFormat(),e=!this.authoredBodystyle;return this.datastore.getItemByKey(t,e)}},{key:"isNotConfiguredNameplate",value:function(){return!this.isConfiguredNameplate()}},{key:"isLatestModelYear",value:(i=y(d().mark(function t(){var e,r,n,o,i,a,c,u,l;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.authoredNameplate&&!this.authoredBodystyle,n=(r=this.datastore.getItemByKey(this.getConfiguredNameplateKey(),e)).vehicleId,o=r.modelYear,i=r.locale,a=this.authoredRuleEngineUrl,!(!n||!a||!o||!i)){t.next=6;break}return t.abrupt("return",!1);case 6:return t.prev=6,c="".concat(a,"/").concat(i,"/").concat(n,".jsonp?view=dx-specs"),t.next=10,(0,f.H2)(c);case 10:return u=t.sent,l=s()(u,"feature-dictionary.vehicle.modelyear",""),t.abrupt("return",l===o);case 15:return t.prev=15,t.t0=t.catch(6),t.abrupt("return",!1);case 18:case"end":return t.stop()}},t,this,[[6,15]])})),function(){return i.apply(this,arguments)})},{key:"isNotLatestModelYear",value:(a=y(d().mark(function t(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.isLatestModelYear();case 2:return t.abrupt("return",!t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"getConfiguredNameplateKey",value:function(){return this.authoredNameplate?this.getNameplateFormat():"latest"}}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}(n.key),n)}}(c.prototype,u),Object.defineProperty(c,"prototype",{writable:!1}),c)},9314:function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(o.key),o)}}r.r(e),r.d(e,{default:function(){return i}});var i=function(){var t,e;function r(t){var e=this;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),this.element=t,this.allowMultiple=t.hasAttribute("data-allow-multiple"),this.sections=t.querySelectorAll(".dxAccordion__section"),this.openAccordion(this.sections[0],0),Array.prototype.forEach.call(this.sections,function(t,r){t.querySelector(".dxAccordion__trigger").addEventListener("click",function(n){return e.handleClick(n,t,r)})})}return t=[{key:"handleClick",value:function(t,e,n){e.classList.contains("dxAccordion__section--active")?r.closeAccordion(e):this.openAccordion(e,n)}},{key:"openAccordion",value:function(t,e){var n=t.querySelector(".dxAccordion__trigger"),o=t.querySelector(".dxAccordion__panel");n.setAttribute("aria-expanded","true"),o.removeAttribute("hidden"),t.classList.add("dxAccordion__section--active"),this.allowMultiple||Array.prototype.forEach.call(this.sections,function(t,n){n!==e&&t.classList.contains("dxAccordion__section--active")&&r.closeAccordion(t)})}}],e=[{key:"closeAccordion",value:function(t){var e=t.querySelector(".dxAccordion__trigger"),r=t.querySelector(".dxAccordion__panel");e.setAttribute("aria-expanded","false"),r.setAttribute("hidden",""),t.classList.remove("dxAccordion__section--active")}}],t&&o(r.prototype,t),e&&o(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}()},16786:function(t,e,r){var n=r(71221);e.A=function(t,e){var r={metadata:{meta:{}}};e&&(e=e.replace(/'?&nbsp;'?/g," ")),r.metadata.meta["currency-format"]=e;var o=new n.W;return o.readCurrencyFormats(r),o.getFormattedPrice(t,e)}},48822:function(t,e,r){r.d(e,{$g:function(){return b},H2:function(){return w},No:function(){return p},tg:function(){return h}});var n=r(71221),o=r(9314),i=r(71202),a=r(16786);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.defaultPricingTypeKey,n=t.fallbackPricingTypeKey;return!!r&&!!n&&e===r},f=function(t){var e=l({},t),r=e.defaultPricingTypeKey,n=e.fallbackPricingTypeKey,o=e.fallbackPricingTypeLabel;if(!r||!n)return e;var i=e["feature-list"][0].feature[0].price;return i[r]&&i[r].value>0||(e["feature-list"][0].feature[0].price[r]=i[n],o&&Array.isArray(e.table)&&(e.table=e.table.map(function(t){var e=l({},t);return e.key===r&&(e.key=n,e.text=o),e}))),e},p=function(t){if(!t||!("feature-list"in t)||!Array.isArray(t["feature-list"]))return!1;var e=t["feature-list"][0].feature[0].price;if(!e)throw Error("Nameplate contains a product with no available price(s).");return Object.keys(e).forEach(function(r){var n=parseFloat(e[r].value);if((Number.isNaN(n)||n<=0)&&!s(t,r))throw Error("Nameplate contains a product with 0 price.")}),!1},d=function(t,e){var r=Object.keys(t);return 1===r.length?t[r[0]]:t[e]},h=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=document.createElement("table");c.classList.add("TechSpecsTable");var u=document.createElement("div");u.classList.add("TechSpecsTable__caveats");var l=document.createElement("tbody");l.setAttribute("role","rowgroup"),Array.prototype.forEach.call(t,function(t,c){var s=n?t.text:d(t.description,r),f=t.caveat||"",p=n?"".concat((0,a.A)(e[t.key].value,o)).concat(f):d(e[c].description,r).replace(/&gt;/g,">").replace(/&lt;/g,"<");if((0,i.Ke)(s)&&(0,i.Ke)(p)){var h=document.createElement("th");h.classList.add("TechSpecsTable__heading"),h.setAttribute("scope","row"),h.innerHTML=s;var y=document.createElement("td");y.classList.add("TechSpecsTable__cell"),y.innerHTML=p;var v=document.createElement("tr");v.classList.add("TechSpecsTable__row"),v.setAttribute("role","row"),v.appendChild(h),v.appendChild(y),n&&v.setAttribute("rule-engine-price-type",t.key),l.appendChild(v)}else if((0,i.eA)(p)&&(0,i.Ke)(s)){var m=document.createElement("p");m.classList.add("TechSpecsTable__caveat"),m.innerHTML=p,u.appendChild(m)}}),c.appendChild(l);var s=document.createElement("div");return s.classList.add("TechSpecsTable__container"),s.appendChild(c),s.appendChild(u),s},y=function(t,e,r){var n=t.cloneNode(!0),o=n.querySelector(".dxAccordion__trigger"),i=n.querySelector(".dxAccordion__panel"),a="".concat(e,"-panel--").concat(r),c="".concat(e,"-button--").concat(r);return o.setAttribute("aria-controls",a),o.setAttribute("id",c),i.setAttribute("id",a),i.setAttribute("aria-labelledby",c),n},v=function(t,e,r,n,o){var i=y(e,n,r),a=t.accordionTitle,c=t.table,u=t.format,l=t.caveat,s=h(c,t["feature-list"][0].feature[0].price,o,!0,u,l);return i.querySelector(".dxAccordion__title").innerHTML=a,i.querySelector(".dxAccordion__panel").appendChild(s),i},m=function(t,e,r,n,o){var i=document.createElement("div"),a=t.datasets,c=t.labels,u=c.heading,l=h(c.label,a[0].data,o),s=l.querySelector("table");return s&&s.hasChildNodes()&&((i=y(e,n,r)).querySelector(".dxAccordion__title").innerHTML=d(u.description,o),i.querySelector(".dxAccordion__panel").appendChild(l)),i},b=function(t,e,r,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=t.specs,l=e.querySelector(".dxAccordion"),s=l.querySelector(".dxAccordion__section"),d=s.querySelector(".dxAccordion__panel");l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)d.removeChild(d.firstChild);var h=parseInt(e.dataset.pricePanelPosition,10);(Number.isNaN(h)||h<=1)&&(h=1);var y=function(){var e=t["feature-dictionary"];if(!(0,i.Im)(e)&&!(0,i.Im)(a))try{var o=Object.assign(a,t["feature-dictionary"]);p(o),l.appendChild(v(f(o),s,0,r,n))}catch(t){c&&(t instanceof TypeError?c("Component authored to show price BUT there is NO valid price for the derivatives chosen."):c(t&&t.message?t.message:t.toString()))}},b=1;return Array.prototype.forEach.call(u,function(t){Array.prototype.forEach.call(t.table,function(t){b===h&&y(),l.appendChild(m(t,s,b,r,n)),b+=1})}),new o.default(l)},g=new n.W,w=function(t){return g.loadJsonp(t)}}}]);