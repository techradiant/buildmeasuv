"use strict";(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([["components-carousel-pagination-js"],{99342:function(t,n,e){e.r(n),e.d(n,{default:function(){return r}});var o=e(71202);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=Array(n);e<n;e++)o[e]=t[e];return o}function a(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){var n=function(t,n){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!=i(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==i(n)?n:n+""}(o.key),o)}}var r=function(){var t,n;function e(t,n,o){var i,s,a=this;!function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}(this,e),this._elem=t,this._elemParent=o,this.videomp4List=Array.from(this._elemParent.querySelectorAll(".cmp-hero video, .cmp-heroTitleBanner video")).filter(function(t){return!t.parentElement.parentElement.classList.contains("cmp-extended-overlay-video")}),this.intervalDuration=(null===(i=this._elemParent)||void 0===i||null===(i=i.classList)||void 0===i?void 0:i.contains("cmp-hero-carousel"))&&(null===(s=this._elemParent)||void 0===s||null===(s=s.attributes["data-duration"])||void 0===s?void 0:s.value)||6e3,this.mp4List={},this.videomp4List.forEach(function(t,n){t.removeAttribute("controls"),t.classList.contains("video--extended-overlay")||(a.mp4List[n]=setInterval(function(){t.currentTime=0,t.play()},a.intervalDuration))}),this._defaults={className:"Pagination",selector:".Pagination",classes:{controls:"Pagination__controls",paused:"Pagination--paused",wrapper:"Pagination__button-wrapper",wrapperPlayPause:"Pagination__button-wrapper--play-pause",wrapperPip:"Pagination__button-wrapper--pip",pip:"Pagination__pip",pipActive:"Pagination__pip--active",play:"Pagination__play",pause:"Pagination__pause",playing:"Pagination--playing",pauseTimerIcon:"Pagination__pause-timer-icon",pauseTimerIconCountdown:"Pagination__pause-timer-icon-countdown",pauseTimerIconCountdownAnimating:"Pagination__pause--animation",pauseControlIcon:"Pagination__pause-control-icon",playControlIcon:"Pagination__play-control-icon"},controls:{play:null,pause:null,countdown:null,pips:null,wrapper:null},events:{init:"init",beforeChange:"beforeChange",afterChange:"afterChange",play:"play",pause:"pause",loopEnd:"loopEnd",gotoNext:"next",gotoPrevious:"previous",countdownEnd:"countdownend",liveRegionUpdate:"liveRegionUpdate"},labels:{play:"play",pause:"pause",pip:"go to []",paused:"paused",playing:"playing",slideChanged:"showing []",next:"next",previous:"previous"},autoplay:{enabled:!1,duration:1e3,pauseAtStart:!1,delay:0},timer:{started:null,remaining:null},_pipIndexAttribute:"data-pip-index",_playingStatus:null,_allowFocusToggle:!0,_delayTimer:null,_nonHoverPaused:null,loop:!0,numberOfPips:null,defaultSelected:0},this.options=Object.assign({},this._defaults,n),this._elem&&this.options.numberOfPips&&this._createPagination()}return t=[{key:"_createPagination",value:function(){var t=this._generateHTML();this._appendPaginationToContainer(t),this._addPaginationEvents(),this.options.controls.pause&&this.options.controls.pause.classList.add(this.options.classes.pauseTimerIconCountdownAnimating),this._fireEvent(this.options.events.init),this._restartAnimation()}},{key:"_playButtonHTML",value:function(t,n){return'<button class="'.concat(t.play,'" aria-label="').concat(n.paused,", ").concat(n.play,'">').concat(this._playControlIconSVG(),"</button>")}},{key:"_pauseButtonHTML",value:function(t,n){return'<button class="'.concat(t.pause,'" aria-label="').concat(n.playing,", ").concat(n.pause,'">\n      ').concat(this._pauseControlIconSVG(),'\n      <svg class="').concat(t.pauseTimerIcon,'" aria-hidden="true"><circle class="').concat(t.pauseTimerIconCountdown,'" r="20" cx="21" cy="21"></circle></svg>\n    </button>')}},{key:"_generateHTML",value:function(){var t,n=this,o=this.options,i=o.classes,a=o.labels,r=function(t,n){return'<li class="'.concat(i.wrapper," ").concat(n,'">').concat(t,"</li>")},l=function(t){var o;return"<button ".concat(n.options._pipIndexAttribute,'="').concat(t,'" class="').concat(i.pip,'" aria-label="').concat((o=t+1,e._replacePlaceholderLabelText(a.pip,o)),'"></button>')},u=((function(t){if(Array.isArray(t))return s(t)})(t=Array(o.numberOfPips))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return s(t,void 0);var e=({}).toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(t,n){return r(l(n),i.wrapperPip)}),p=this._playButtonHTML(i,a),c=this._pauseButtonHTML(i,a),h=o.autoplay.enabled?"".concat(r(p+c,i.wrapperPlayPause)):"";return'\n      <ul class="'.concat(i.controls,'">\n        ').concat(h,"\n        ").concat(u.join(" "),"\n      </ul>\n    ")}},{key:"_appendPaginationToContainer",value:function(t){var n=document.createElement("div");n.innerHTML=t,this._elem.classList.add(this.options.className),this.options.isBlack&&this._elem.classList.add("".concat(this.options.className,"--black")),this._elem.appendChild(n.querySelector(".".concat(this.options.classes.controls))),this.options.controls=e._cacheControls(this._elem,this.options.classes,this.options.autoplay.enabled),this._setActiveState(this.options.defaultSelected);var o=this.options.autoplay,i=o.pauseAtStart?"paused":"running";this.options._nonHoverPaused=o.pauseAtStart,o.enabled&&(this._setPlayingStatus(i),this.options.controls.countdown.style.animationDuration="".concat(o.duration,"ms"))}},{key:"_getPipsArray",value:function(){return[].slice.call(this._elem.querySelectorAll(".".concat(this.options.classes.pip)))}},{key:"_setActiveState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.options.controls.pips[t].classList.add(this.options.classes.pipActive);var n=e._replacePlaceholderLabelText(this.options.labels.slideChanged,t+1);this._updateLiveRegionText(n)}},{key:"_updateLiveRegionText",value:function(t){this._fireEvent(this.options.liveRegionUpdate,{text:t})}},{key:"_getCurrentActivePipElement",value:function(){return this._elem.querySelector(".".concat(this.options.classes.pipActive))}},{key:"_getCurrentActivePipIndex",value:function(){return this._getPipIndex(this._getCurrentActivePipElement())}},{key:"_getNextPipIndex",value:function(t,n){var e=this._getPipIndex(n)+1;return e<t.length?e:0}},{key:"_getPreviousPipIndex",value:function(t,n){var e=this._getPipIndex(n)-1;return e<0?t.length-1:e}},{key:"_getPipIndex",value:function(t){return parseInt(t.getAttribute(this.options._pipIndexAttribute),10)}},{key:"_getpauseIconCountdownElement",value:function(){return this._elem.querySelector(".".concat(this.options.classes.pauseTimerIconCountdown))}},{key:"_restartAnimation",value:function(){var t=this;if("true"===this._elem.getAttribute("data-playing")){var n=this.options.autoplay,e=this.options.controls,i=e.countdown,s=e.pause,a=n.enabled?n.delay:0,r="122px",l=function(){var e={duration:n.duration,easing:"linear",fill:"forwards"};t.options.controls.countdownTransition=i.animate([{strokeDashoffset:"1px",opacity:1,offset:0},{strokeDashoffset:r,opacity:1,offset:.99},{strokeDashoffset:r,opacity:0,offset:1}],e),t.options.controls.countdownTransition.pause(),t.options.controls.countdownTransition.onfinish=function(){i.style.opacity=0,t.options.controls.countdownTransition=null,(0,o.le)(s,t.options.events.countdownEnd)},t.options.controls.countdownTransition.play()},u=function(){i.style.strokeDashoffset="1px",i.style.opacity=1,t.options.controls.countdownTransition?t.options.controls.countdownTransition.play():l()};setTimeout(function(){return u()},a)}}},{key:"_pipEventHandler",value:function(t){t.preventDefault();var n=this.options.classes.pipActive,e=this.options.controls,o=e.pips,i=e.countdown,s=this._getCurrentActivePipElement(),a=t.type,r="click"===a?t.target:o[this._getNextPipIndex(o,s)],l=this._getPipIndex(r);if(r!==s){this.options.controls.countdownTransition&&(this.options.controls.countdownTransition.pause(),this.options.controls.countdownTransition=null,i.style.strokeDashoffset="122px");var u={eventType:a,pipsArray:o,pipFrom:this._getPipIndex(s),pipTo:this._getPipIndex(r)};if(a===this.options.events.countdownEnd&&0===l&&!this.options.loop){this._fireEvent(this.options.events.loopEnd,u);return}this._fireEvent(this.options.events.beforeChange,u),o.forEach(function(t){t.classList.remove(n)}),this._setActiveState(this._getPipIndex(r)),this._restartAnimation(),this._fireEvent(this.options.events.afterChange,u)}}},{key:"_resumeTimerAnimation",value:function(t,n){var e=this;if(this.videomp4List.forEach(function(t,n){t.play(),e.mp4List[n]=setInterval(function(){t.currentTime=0,t.play()},e.intervalDuration)}),"hover"!==n||!this.options._nonHoverPaused){var o=this.options.labels.playing;this._updateLiveRegionText(o),this.options._nonHoverPaused=!1,this._setPlayingStatus(t,n),this._restartAnimation(n)}}},{key:"_pauseTimerAnimation",value:function(t,n){var e=this;this.videomp4List.forEach(function(t,n){t.pause(),clearInterval(e.mp4List[n])}),"hover"!==n&&(this.options._nonHoverPaused=!0);var o=this.options.labels.paused;this._updateLiveRegionText(o),this.options.controls.countdownTransition&&this.options.controls.countdownTransition.pause(),this._setPlayingStatus(t,n)}},{key:"_addPaginationEvents",value:function(){var t=this,n=this.options.controls,e=n.pips,o=n.play,i=n.pause,s=n.countdown;e.forEach(function(n){return n.addEventListener("click",function(n){return t._pipEventHandler(n)},!1)}),o&&i&&s&&(i.addEventListener(this.options.events.countdownEnd,function(n){return t._pipEventHandler(n)},!1),o.addEventListener("click",function(n){return t._resumeTimerAnimation("running",n)},!1),i.addEventListener("click",function(n){return t._pauseTimerAnimation("paused",n)},!1))}},{key:"_fireEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.le)(this._elem,t,n)}},{key:"_getPlayingStatus",value:function(){return this._playingStatus}},{key:"_setPlayingStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"paused",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.options.controls,i=o.play,s=o.pause,a=o.countdown;this._playingStatus=t,this._elem.setAttribute("data-playing","paused"===t?"false":"true"),i&&s&&"paused"===t?(this._toggleFocus(s,i,n),e._showControl(i),e._hideControl(s),a.style.animationPlayState="paused",this._fireEvent(this.options.events.pause)):(this._toggleFocus(i,s,n),e._hideControl(i),e._showControl(s),a.style.animationPlayState="running",this._fireEvent(this.options.events.play))}},{key:"_toggleFocus",value:function(t,n,e){this.options._allowFocusToggle&&document.activeElement===t&&e&&0===e.detail&&setTimeout(function(){n.focus()},50)}},{key:"hideControls",value:function(){var t=this.options.controls,n=t.play,o=t.pause,i=t.pips;e._hideControl(n),e._hideControl(o),i.forEach(function(t){return e._hideControl(t)})}},{key:"showControls",value:function(){var t=this.options.controls,n=t.play,o=t.pause,i=t.pips;"paused"===this._playingStatus?e._showControl(n):e._showControl(o),i.forEach(function(t){return e._showControl(t)})}},{key:"_playControlIconSVG",value:function(){return'\n    <svg aria-hidden="true" class="'.concat(this.options.classes.playControlIcon,'" width="14px" height="20px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14 20" xml:space="preserve">\n      <path d="M-0.1,0v20l14-10L-0.1,0z M1.6,3.2l9.5,6.7l-9.5,6.8C1.6,16.7,1.6,3.2,1.6,3.2z"/>\n    </svg>      \n    ')}},{key:"_pauseControlIconSVG",value:function(){return'\n      <svg aria-hidden="true" class="'.concat(this.options.classes.pauseControlIcon,'" width="10px" height="16px" viewBox="0 0 10 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g stroke="none" stroke-width="1">\n          <g transform="translate(-473.000000, -299.000000)" fill-rule="nonzero">\n            <g transform="translate(473.000000, 299.000000)"><polygon points="0 0 2 0 2 16 0 16"></polygon><polygon points="8 0 10 0 10 16 8 16"></polygon></g>\n          </g>\n        </g>\n      </svg>')}},{key:"pause",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.controls.pause&&this._pauseTimerAnimation("paused",!!t&&"hover")}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.controls.play&&this._resumeTimerAnimation("running",!!t&&"hover")}},{key:"getPlayingStatus",value:function(){return this._getPlayingStatus()}},{key:"goToPip",value:function(t){var n=this.options.controls.pips[t];n&&n.click()}},{key:"previousPip",value:function(){var t=this.options.controls.pips,n=this._getCurrentActivePipElement(),e=this._getPipIndex(n);if(this.options.loop||0!==e){var o=t[this._getPreviousPipIndex(t,n)];this._fireEvent(this.options.events.gotoPrevious),o.click()}}},{key:"nextPip",value:function(){var t=this.options.controls.pips,n=this._getCurrentActivePipElement(),e=t[this._getNextPipIndex(t,n)],o=this._getPipIndex(e);(this.options.loop||0!==o)&&(this._fireEvent(this.options.events.gotoNext),e.click())}},{key:"getCurrentPipIndex",value:function(){return this._getCurrentActivePipIndex()}},{key:"updateActivePipByIndex",value:function(t){var n=this.options.controls.pips,e=this.options.classes.pipActive;n.forEach(function(t){return t.classList.remove(e)}),this._setActiveState(t)}},{key:"getOptions",value:function(){return this.options}},{key:"getElement",value:function(){return this._elem}},{key:"destroy",value:function(){var t=this.options.controls;t&&t.wrapper&&t.wrapper.parentNode.removeChild(t.wrapper)}},{key:"Pagination",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,e=this[t];return"function"==typeof e?e.bind(this,n)():void 0}}],n=[{key:"_cacheControls",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={};return o.wrapper=t.querySelector(".".concat(n.controls)),o.pips=[].slice.call(t.querySelectorAll(".".concat(n.pip))),e&&(o.play=t.querySelector(".".concat(n.play)),o.pause=t.querySelector(".".concat(n.pause)),o.countdown=t.querySelector(".".concat(n.pauseTimerIconCountdown))),o}},{key:"_replacePlaceholderLabelText",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?t.replace(/[[]]/g,n):""}},{key:"_showControl",value:function(t){t.removeAttribute("aria-hidden"),t.removeAttribute("tabindex")}},{key:"_hideControl",value:function(t){t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1")}}],t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}()}}]);